# Explanation

In Java, stopping a thread safely requires cooperation between the thread and the code requesting it to stop.<br>
Using deprecated methods like Thread.stop() is unsafe and can leave shared data in an inconsistent state.

## Thread Interruption

- Threads can be interrupted by calling thread.interrupt().
- The interrupted thread can check its status using:
- Thread.interrupted() — clears the interrupted status.
- thread.isInterrupted() — does not clear the status.
- Certain methods (sleep, wait, join) throw InterruptedException when the thread is interrupted while waiting.

## Cooperative Thread Stopping

- Use a volatile boolean flag to signal the thread to stop.
- The thread checks this flag periodically and terminates gracefully.

```java
class StoppableThread extends Thread {
    private volatile boolean running = true;

    public void shutdown() {
        running = false;
    }

    public void run() {
        while (running) {
            // do work
        }
    }
}

```

- This is safe because the thread controls when to exit.

## Key Points


| Feature            | Notes                                                 |
| ------------------ | ----------------------------------------------------- |
| Thread.stop()      | Unsafe, deprecated, avoid                             |
| Thread.interrupt() | Safe, cooperative way to signal a thread              |
| Volatile flag      | Thread checks the flag and exits gracefully           |
| InterruptedException | Always handle it in blocking calls (sleep, wait, join)|


```java
public class InterruptDemo {
    public static void main(String[] args) throws InterruptedException {
        // Using interrupt
        Thread worker = new Thread(() -> {
            while (!Thread.currentThread().isInterrupted()) {
                System.out.println("Worker running...");
                try {
                    Thread.sleep(500); // may throw InterruptedException
                } catch (InterruptedException e) {
                    System.out.println("Worker interrupted during sleep");
                    Thread.currentThread().interrupt(); // preserve interrupted status
                }
            }
            System.out.println("Worker exiting gracefully");
        });

        worker.start();
        Thread.sleep(1600); // Let worker run for some time
        worker.interrupt();
        worker.join();

        System.out.println("Main thread exits");
    }
}

```

### Explanation:

- worker.interrupt() signals the thread.
- Inside sleep(), the thread receives InterruptedException.
- The thread sets its interrupt flag again (Thread.currentThread().interrupt()) and exits safely.

## Diagram

![Diagram](images/5.%20Thread%20Interuption.svg)
