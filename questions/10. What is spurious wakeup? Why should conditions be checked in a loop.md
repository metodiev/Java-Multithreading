# Explanation

## Spurious Wakeup

- In Java, a thread waiting on a condition (via Object.wait() or Condition.await()) can sometimes wake up without being explicitly signaled.
- This unexpected wakeup is called a spurious wakeup.
- It is rare, but it can happen due to JVM or OS-level scheduling quirks.

## Why check conditions in a loop

- Because of spurious wakeups, you should always re-check the condition after await() returns.
- Using an if statement can lead to incorrect behavior: the thread might continue even though the condition is still false.
- Using a while loop ensures that the thread only proceeds when the condition is actually met.

## Practical Impact

- Avoids subtle concurrency bugs that can be extremely hard to debug.
- Ensures that your multithreaded program behaves deterministically regardless of spurious wakeups.
- This principle applies to both Object.wait()/notify() and Condition.await()/signal().

```java
import java.util.concurrent.locks.*;

public class SpuriousWakeupDemo {
    private static final Lock lock = new ReentrantLock();
    private static final Condition condition = lock.newCondition();
    private static boolean ready = false;

    public static void main(String[] args) throws InterruptedException {
        Thread waitingThread = new Thread(() -> {
            lock.lock();
            try {
                while (!ready) { // loop protects against spurious wakeups
                    System.out.println("WaitingThread: waiting...");
                    condition.await();
                }
                System.out.println("WaitingThread: condition met, proceeding");
            } catch (InterruptedException e) {
                Thread.currentThread().interrupt();
            } finally {
                lock.unlock();
            }
        });

        Thread signalingThread = new Thread(() -> {
            try { Thread.sleep(1000); } catch (InterruptedException ignored) {}
            lock.lock();
            try {
                ready = true;
                System.out.println("SignalingThread: signaling condition");
                condition.signal();
            } finally {
                lock.unlock();
            }
        });

        waitingThread.start();
        signalingThread.start();

        waitingThread.join();
        signalingThread.join();
    }
}

```

## Diagram

![Diagram](images/10.%20Sprious%20wakeup%20Handling.svg)